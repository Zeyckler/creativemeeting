<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:icecore="http://www.icefaces.org/icefaces/core"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <body>

        <ui:composition template="./WEB-INF/facelets/templates/plantilla.xhtml">
            <ui:define name="sesion">
                <link rel="stylesheet" type="text/css" href="./xmlhttp/css/rime/rime.css"/>
            </ui:define>
            <ui:define name="title">
                Registro de Empresa - CreativeMeetings
            </ui:define>

            <ui:define name="logoempresa">
            </ui:define>

            <ui:define name="left">
            </ui:define>

            <ui:define name="right">
            </ui:define>

            <ui:define name="content">
                <div class="logindiv" id="formularioempresa">
                    <div class="encabezado" id="iniciosesion"><h2>Registro de empresa</h2></div>
                    <div class="cuerpo">
                        <table class="tablaformulario" id="tablaempresa">
                            <ice:form>
                                <tr><td colspan="2" class="tdcenter"><h3>Datos referidos a la empresa</h3></td></tr>
                                <tr>
                                    <td><ice:outputLabel for="nif">N.I.F.:</ice:outputLabel></td>
                                    <td><ice:inputText id="nif" value="#{registroEmpresaBean.nif}" required="true" validator="#{validaciones.validarNif}" /></td>
                                    <td><ice:message id="errornif" for="nif"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="razonsocial">Raz&oacute;n social:</ice:outputLabel></td>
                                    <td><ice:inputText id="razonsocial" value="#{registroEmpresaBean.razonsocial}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorrazonsocial" for="razonsocial"></ice:message></td>
                                </tr>

                                <tr>
                                    <td><ice:outputLabel  for="direccion">Direcci&oacute;n:</ice:outputLabel></td>
                                    <td><ice:inputText id="direccion" value="#{registroEmpresaBean.direccion}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errordireccion" for="direccion"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="localidad">Localidad:</ice:outputLabel></td>
                                    <td><ice:inputText id="localidad" value="#{registroEmpresaBean.localidad}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorlocalidad" for="localidad"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="codigopostal">C&oacute;digo postal:</ice:outputLabel></td>
                                    <td><ice:inputText id="codigopostal" value="#{registroEmpresaBean.codigopostal}" required="true" validator="#{validaciones.validarCodigoPostal}" /></td>
                                    <td><ice:message id="errorcodigopostal" for="codigopostal"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="provincia">Provincia:</ice:outputLabel></td>
                                    <td><ice:inputText id="provincia" value="#{registroEmpresaBean.provincia}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorprovincia" for="provincia"></ice:message></td>
                                </tr>

                                <tr>
                                    <td><ice:outputLabel for="pais">Pa&iacute;s:</ice:outputLabel></td>
                                    <td><ice:selectOneMenu id="pais" value="#{registroEmpresaBean.pais}" partialSubmit="false">
                                            <f:selectItems id="listapaisesemp" value="#{listapaises.paises}"/>
                                        </ice:selectOneMenu></td>
                                    <td><ice:message id="errorpais" for="paisusuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="telefono">Tel&eacute;fono:</ice:outputLabel></td>
                                    <td><ice:inputText id="telefono" value="#{registroEmpresaBean.telefono}" required="true" validator="#{validaciones.validarTelefono}" /></td>
                                    <td><ice:message id="errortelefono" for="telefono"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="fax">Fax:</ice:outputLabel></td>
                                    <td><ice:inputText id="fax" value="#{registroEmpresaBean.fax}" validator="#{validaciones.validarTelefono}" /></td>
                                    <td><ice:message id="errorfax" for="fax"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="email">Correo electr&oacute;nico:</ice:outputLabel></td>
                                    <td><ice:inputText id="email" value="#{registroEmpresaBean.email}" required="true" validator="#{validaciones.validarEmail}" /></td>
                                    <td><ice:message id="erroremail" for="email"></ice:message></td>
                                </tr>

                                <tr>
                                    <td><ice:outputLabel for="web">P&aacute;gina web:</ice:outputLabel></td>
                                    <td><ice:inputText id="web" value="#{registroEmpresaBean.web}" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorweb" for="web"></ice:message></td>
                                </tr>
                                <!--<tr>
                                    <td><ice:outputLabel for="logo">Logotipo de la empresa:</ice:outputLabel></td>
                                    <td><ace:fileEntry id="logo" maxFileSize="10485760" useOriginalFilename="false" absolutePath="C:\\Temp" fileEntryListener="#{subirarchivobean.subirLogo(event)}"></ace:fileEntry></td>
                                    <td><ice:message id="errorlogo" for="logo"></ice:message></td>
                                </tr>-->
                                <tr><td colspan="2" class="tdcenter"><h3>Datos referidos al administrador de la empresa</h3></td></tr>
                                <tr>
                                    <td><ice:outputLabel for="nombre">Nombre:</ice:outputLabel></td>
                                    <td><ice:inputText id="nombre" value="#{registroEmpresaBean.nombreusuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errornombre" for="nombre"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="apellido1">Primer apellido:</ice:outputLabel></td>
                                    <td><ice:inputText id="apellido1"  value="#{registroEmpresaBean.apellido1usuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorapellido1" for="apellido1"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="apellido2">Segundo apellido:</ice:outputLabel></td>
                                    <td><ice:inputText id="apellido2" value="#{registroEmpresaBean.apellido2usuario}"></ice:inputText></td>
                                    <td><ice:message id="errorapellido2" for="apellido2"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="contrasena" title="Su nombre de usuario será autogenerado">Contraseña usuario:</ice:outputLabel></td>
                                    <td><ice:inputSecret id="contrasena" value="#{registroEmpresaBean.contrasenausuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorcontrasena" for="contrasena"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="dni">DNI:</ice:outputLabel></td>
                                    <td><ice:inputText id="dni" value="#{registroEmpresaBean.dniusuario}" required="true" validator="#{validaciones.validarNif}" /></td>
                                    <td><ice:message id="errordni" for="dni"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="fechanacimiento">Fecha de nacimiento:</ice:outputLabel></td>
                                    <td><ice:selectInputDate id="fechanacimiento" value="#{registroEmpresaBean.fechanacimientousuario}" partialSubmit="false" required="true" renderAsPopup="true" renderMonthAsDropdown="true" renderYearAsDropdown="true"><f:converter converterId="javax.faces.DateTime"/> 
                                            <f:convertDateTime pattern="dd/MM/yyyy"/></ice:selectInputDate></td>
                                    <td><ice:message id="errorfechanacimiento" for="fechanacimiento"></ice:message></td>

                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="direccionusuario">Direcci&oacute;n:</ice:outputLabel></td>
                                    <td><ice:inputText id="direccionusuario" value="#{registroEmpresaBean.direccionusuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errordireccionusuario" for="direccionusuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="localidadusuario">Localidad:</ice:outputLabel></td>
                                    <td><ice:inputText id="localidadusuario" value="#{registroEmpresaBean.localidadusuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorlocalidadusuario" for="localidadusuario"></ice:message></td>
                                </tr>

                                <tr>
                                    <td><ice:outputLabel for="codigopostalusuario">C&oacute;digo postal:</ice:outputLabel></td>
                                    <td><ice:inputText id="codigopostalusuario" value="#{registroEmpresaBean.codigopostalusuario}" required="true" validator="#{validaciones.validarCodigoPostal}" /></td>
                                    <td><ice:message id="errorcodigopostalusuario" for="codigopostalusuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="provinciausuario">Provincia:</ice:outputLabel></td>
                                    <td><ice:inputText id="provinciausuario" value="#{registroEmpresaBean.provinciausuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorprivinciausuario" for="provinciausuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="paisusuario">Pa&iacute;s:</ice:outputLabel></td>
                                    <td><ice:selectOneMenu id="paisusuario" value="#{registroEmpresaBean.paisusuario}" partialSubmit="false">
                                            <f:selectItems id="listapaises" value="#{listapaises.paises}"/>
                                        </ice:selectOneMenu></td>
                                    <td><ice:message id="errorpaisusuario" for="paisusuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="telefonousuario">Tel&eacute;fono:</ice:outputLabel></td>
                                    <td><ice:inputText id="telefonousuario" value="#{registroEmpresaBean.telefonousuario}" validator="#{validaciones.validarTelefono}" required="true" /></td>
                                    <td><ice:message id="errortelefonousuario" for="telefonousuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="movil">Tel&eacute;fono m&oacute;vil:</ice:outputLabel></td>
                                    <td><ice:inputText id="movil" value="#{registroEmpresaBean.movilusuario}" validator="#{validaciones.validarMovil}" /></td>
                                    <td><ice:message id="errormovil" for="movil"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="emailusuario">Correo electr&oacute;nico:</ice:outputLabel></td>
                                    <td><ice:inputText id="emailusuario" value="#{registroEmpresaBean.emailusuario}" required="true" validator="#{validaciones.validarEmail}" /></td>
                                    <td><ice:message id="erroremailusuario" for="emailusuario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="cargo">Cargo:</ice:outputLabel></td>
                                    <td><ice:inputText id="cargo" value="#{registroEmpresaBean.cargousuario}" required="true" validator="#{validaciones.validarCadena255}" /></td>
                                    <td><ice:message id="errorcargo" for="cargo"></ice:message></td>
                                </tr>
                                <tr>
                                    <td><ice:outputLabel for="salario">Salario mensual:</ice:outputLabel></td>
                                    <td><ice:inputText id="salario" value="#{registroEmpresaBean.salariousuario}" required="true" validator="#{validaciones.validarSalario}" /></td>
                                    <td><ice:message id="errorsalario" for="salario"></ice:message></td>
                                </tr>
                                <tr>
                                    <td colspan="2"><hr/></td>
                                </tr>
                                <tr>
                                    <td colspan="2" class="tdcenter">
                                        <ice:commandButton styleClass="btn" id="botondardealta" value="Registrarse" action="#{registroEmpresaBean.registraEmpresayUsuario}"></ice:commandButton>
                                    </td>
                                </tr>
                            </ice:form>
                            <tr>
                                <td colspan="2" class="tdcenter">
                                    <ice:form>
                                        <ice:commandButton styleClass="btn" id="botonvolver" value="Volver" action="#{registroEmpresaBean.volver}"></ice:commandButton>
                                    </ice:form>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" class="tdcenter">
                                    <ice:outputText value="Hubo un problema durante el registro, por favor, inténtelo más tarde o contacte con soporte@creativemeetings.com" />
                                </td>
                            </tr>
                        </table>

                    </div>
                </div>

            </ui:define>

        </ui:composition>

    </body>
</html>
